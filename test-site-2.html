<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TechFlow - Analytics Test Site 2</title>
    <!-- Uzera Code Snippet -->
    <script>
      (function (u, z, a) {
        if (u["a_id"]) {
          return;
        }
        u["a_id"] = a;
        u["dm"] = u.location.hostname;
        u.uzera = u.uzera || [];
        u.uzera.q = u.uzera.q || [];
        ["identify", "trackEvent"].forEach(function (m) {
          u.uzera[m] = function () {
            u.uzera.q.push([m, arguments]);
          };
        });
        var s = z.createElement("script");
        s.async = true;
        s.src = "https://assets.gainserv.in/wrapper.dev.min.js";
        var t = z.getElementsByTagName("script")[0];
        t.parentNode.insertBefore(s, t);
      })(window, document, "ZF1Z7UQ1ZR");
    </script>
    <!-- End of Uzera Code Snippet -->
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #0f0f23;
        color: #e1e1e6;
        line-height: 1.6;
      }

      /* Header */
      .header {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #2d2d44;
        position: sticky;
        top: 0;
        z-index: 1000;
      }
      .logo {
        font-size: 1.5rem;
        font-weight: bold;
        background: linear-gradient(90deg, #00d9ff, #00ff88);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .nav {
        display: flex;
        gap: 2rem;
      }
      .nav a {
        color: #a1a1aa;
        text-decoration: none;
        transition: color 0.3s;
        cursor: pointer;
      }
      .nav a:hover, .nav a.active {
        color: #00d9ff;
      }
      .header-actions {
        display: flex;
        gap: 1rem;
      }

      /* Buttons */
      .btn {
        padding: 0.6rem 1.2rem;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s;
      }
      .btn-primary {
        background: linear-gradient(90deg, #00d9ff, #00ff88);
        color: #0f0f23;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px rgba(0, 217, 255, 0.3);
      }
      .btn-outline {
        background: transparent;
        border: 1px solid #00d9ff;
        color: #00d9ff;
      }
      .btn-outline:hover {
        background: rgba(0, 217, 255, 0.1);
      }
      .btn-ghost {
        background: rgba(255,255,255,0.1);
        color: #e1e1e6;
      }
      .btn-ghost:hover {
        background: rgba(255,255,255,0.2);
      }

      /* Hero */
      .hero {
        padding: 6rem 2rem;
        text-align: center;
        background: linear-gradient(180deg, #1a1a2e 0%, #0f0f23 100%);
      }
      .hero h1 {
        font-size: 3.5rem;
        margin-bottom: 1.5rem;
        background: linear-gradient(90deg, #fff, #00d9ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .hero p {
        font-size: 1.2rem;
        color: #a1a1aa;
        max-width: 600px;
        margin: 0 auto 2rem;
      }
      .hero-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
      }

      /* Container */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }

      /* Section */
      .section {
        padding: 4rem 2rem;
      }
      .section-title {
        text-align: center;
        margin-bottom: 3rem;
      }
      .section-title h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: #fff;
      }
      .section-title p {
        color: #a1a1aa;
      }

      /* Cards */
      .card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }
      .card {
        background: #1a1a2e;
        border-radius: 12px;
        padding: 2rem;
        border: 1px solid #2d2d44;
        transition: all 0.3s;
        cursor: pointer;
      }
      .card:hover {
        transform: translateY(-5px);
        border-color: #00d9ff;
        box-shadow: 0 10px 40px rgba(0, 217, 255, 0.1);
      }
      .card-icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }
      .card h3 {
        color: #fff;
        margin-bottom: 0.5rem;
      }
      .card p {
        color: #a1a1aa;
        font-size: 0.95rem;
      }
      .card-price {
        margin-top: 1rem;
        font-size: 1.5rem;
        color: #00d9ff;
      }
      .card-price span {
        font-size: 0.9rem;
        color: #a1a1aa;
      }

      /* Analytics Console */
      .analytics-console {
        background: #1a1a2e;
        border: 1px solid #2d2d44;
        border-radius: 8px;
        margin: 2rem;
        overflow: hidden;
      }
      .console-header {
        background: #16213e;
        padding: 0.75rem 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        border-bottom: 1px solid #2d2d44;
      }
      .console-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }
      .console-dot.red { background: #ff5f56; }
      .console-dot.yellow { background: #ffbd2e; }
      .console-dot.green { background: #27ca40; }
      .console-title {
        margin-left: 1rem;
        color: #a1a1aa;
        font-size: 0.9rem;
      }
      .console-body {
        padding: 1rem;
        max-height: 200px;
        overflow-y: auto;
        font-family: 'Courier New', monospace;
        font-size: 0.85rem;
      }
      .console-line {
        color: #00ff88;
        margin-bottom: 0.25rem;
      }
      .console-line.warn { color: #ffbd2e; }
      .console-line.error { color: #ff5f56; }
      .console-line.info { color: #00d9ff; }

      /* Test Panels */
      .test-panel {
        background: #1a1a2e;
        border: 1px solid #2d2d44;
        border-radius: 12px;
        margin-bottom: 2rem;
        overflow: hidden;
      }
      .panel-header {
        background: linear-gradient(90deg, #16213e, #1a1a2e);
        padding: 1rem 1.5rem;
        border-bottom: 1px solid #2d2d44;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .panel-header h3 {
        color: #00d9ff;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .panel-badge {
        background: rgba(0, 217, 255, 0.2);
        color: #00d9ff;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.8rem;
      }
      .panel-body {
        padding: 1.5rem;
      }

      /* Form Styles */
      .form-group {
        margin-bottom: 1rem;
      }
      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: #a1a1aa;
        font-size: 0.9rem;
      }
      .form-input {
        width: 100%;
        padding: 0.75rem 1rem;
        background: #0f0f23;
        border: 1px solid #2d2d44;
        border-radius: 6px;
        color: #e1e1e6;
        font-size: 1rem;
        transition: border-color 0.3s;
      }
      .form-input:focus {
        outline: none;
        border-color: #00d9ff;
      }
      .form-input::placeholder {
        color: #4a4a5a;
      }

      /* Tabs */
      .tabs {
        display: flex;
        border-bottom: 1px solid #2d2d44;
        margin-bottom: 1.5rem;
      }
      .tab {
        padding: 1rem 1.5rem;
        background: none;
        border: none;
        color: #a1a1aa;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.3s;
      }
      .tab:hover {
        color: #e1e1e6;
      }
      .tab.active {
        color: #00d9ff;
        border-bottom-color: #00d9ff;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }

      /* Grid layouts */
      .grid-2 {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
      }
      .grid-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
      }
      .grid-4 {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
      }
      @media (max-width: 768px) {
        .grid-2, .grid-3, .grid-4 {
          grid-template-columns: 1fr;
        }
      }

      /* Funnel */
      .funnel-container {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .funnel-step {
        background: linear-gradient(90deg, #2d2d44, #1a1a2e);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s;
        border: 1px solid transparent;
      }
      .funnel-step:hover {
        border-color: #00d9ff;
      }
      .funnel-step.completed {
        background: linear-gradient(90deg, rgba(0, 255, 136, 0.2), rgba(0, 217, 255, 0.1));
        border-color: #00ff88;
      }
      .funnel-step .step-num {
        background: #2d2d44;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 1rem;
      }
      .funnel-step.completed .step-num {
        background: #00ff88;
        color: #0f0f23;
      }

      /* Heatmap Grid */
      .heatmap-zone {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 8px;
      }
      .heat-cell {
        aspect-ratio: 1;
        background: #2d2d44;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s;
        font-weight: bold;
        color: #4a4a5a;
      }
      .heat-cell:hover {
        transform: scale(1.05);
      }

      /* Segment buttons */
      .segment-group {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }
      .segment-btn {
        padding: 0.5rem 1rem;
        border-radius: 20px;
        border: 1px solid #2d2d44;
        background: #0f0f23;
        color: #a1a1aa;
        cursor: pointer;
        transition: all 0.3s;
      }
      .segment-btn:hover {
        border-color: #00d9ff;
        color: #00d9ff;
      }
      .segment-btn.active {
        background: linear-gradient(90deg, #00d9ff, #00ff88);
        color: #0f0f23;
        border-color: transparent;
      }

      /* Journey Timeline */
      .journey-timeline {
        position: relative;
        padding-left: 2rem;
      }
      .journey-timeline::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 2px;
        background: #2d2d44;
      }
      .journey-step {
        position: relative;
        padding: 1rem;
        margin-bottom: 1rem;
        background: #16213e;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
      }
      .journey-step::before {
        content: '';
        position: absolute;
        left: -2rem;
        top: 50%;
        transform: translateY(-50%);
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #2d2d44;
        border: 2px solid #0f0f23;
      }
      .journey-step:hover {
        background: #1a1a2e;
      }
      .journey-step.active::before {
        background: #00d9ff;
        box-shadow: 0 0 10px #00d9ff;
      }
      .journey-step.completed::before {
        background: #00ff88;
      }

      /* Metrics */
      .metric-box {
        background: #16213e;
        padding: 1.5rem;
        border-radius: 8px;
        text-align: center;
      }
      .metric-value {
        font-size: 2rem;
        font-weight: bold;
        color: #00d9ff;
      }
      .metric-label {
        color: #a1a1aa;
        font-size: 0.9rem;
        margin-top: 0.5rem;
      }

      /* Modal */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
      }
      .modal-overlay.active {
        display: flex;
      }
      .modal {
        background: #1a1a2e;
        border-radius: 12px;
        width: 100%;
        max-width: 450px;
        border: 1px solid #2d2d44;
        overflow: hidden;
      }
      .modal-header {
        padding: 1.5rem;
        border-bottom: 1px solid #2d2d44;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .modal-header h3 {
        color: #fff;
      }
      .modal-close {
        background: none;
        border: none;
        color: #a1a1aa;
        font-size: 1.5rem;
        cursor: pointer;
      }
      .modal-body {
        padding: 1.5rem;
      }

      /* Product cards */
      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }
      .product-card {
        background: #1a1a2e;
        border-radius: 12px;
        overflow: hidden;
        border: 1px solid #2d2d44;
        transition: all 0.3s;
        cursor: pointer;
      }
      .product-card:hover {
        border-color: #00d9ff;
        transform: translateY(-5px);
      }
      .product-image {
        height: 150px;
        background: linear-gradient(135deg, #16213e, #1a1a2e);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
      }
      .product-info {
        padding: 1.5rem;
      }
      .product-category {
        color: #00d9ff;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      .product-title {
        color: #fff;
        font-size: 1.2rem;
        margin: 0.5rem 0;
      }
      .product-price {
        color: #00ff88;
        font-size: 1.25rem;
        font-weight: bold;
      }

      /* Footer */
      .footer {
        background: #16213e;
        padding: 3rem 2rem;
        margin-top: 4rem;
        border-top: 1px solid #2d2d44;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer h4 {
        color: #fff;
        margin-bottom: 1rem;
      }
      .footer ul {
        list-style: none;
      }
      .footer li {
        margin-bottom: 0.5rem;
      }
      .footer a {
        color: #a1a1aa;
        text-decoration: none;
        cursor: pointer;
      }
      .footer a:hover {
        color: #00d9ff;
      }
      .footer-bottom {
        text-align: center;
        padding-top: 2rem;
        margin-top: 2rem;
        border-top: 1px solid #2d2d44;
        color: #a1a1aa;
      }

      /* Page sections */
      .page {
        display: none;
      }
      .page.active {
        display: block;
      }

      /* Traffic source */
      .traffic-item {
        display: flex;
        align-items: center;
        padding: 1rem;
        background: #16213e;
        border-radius: 8px;
        margin-bottom: 0.5rem;
        cursor: pointer;
        transition: all 0.3s;
      }
      .traffic-item:hover {
        background: #1a1a2e;
        transform: translateX(5px);
      }
      .traffic-icon {
        font-size: 1.5rem;
        margin-right: 1rem;
        width: 40px;
        text-align: center;
      }
      .traffic-info {
        flex: 1;
      }
      .traffic-name {
        color: #fff;
        font-weight: 500;
      }
      .traffic-detail {
        color: #a1a1aa;
        font-size: 0.85rem;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="logo">TechFlow</div>
      <nav class="nav">
        <a class="active" onclick="showPage('home')">Home</a>
        <a onclick="showPage('products')">Products</a>
        <a onclick="showPage('pricing')">Pricing</a>
        <a onclick="showPage('analytics')">Analytics Testing</a>
      </nav>
      <div class="header-actions" id="authButtons">
        <button class="btn btn-ghost" onclick="openModal('login')">Login</button>
        <button class="btn btn-primary" onclick="openModal('signup')">Get Started</button>
      </div>
      <div class="header-actions" id="userMenu" style="display: none;">
        <span id="userGreeting" style="color: #a1a1aa;">Welcome, User</span>
        <button class="btn btn-ghost" onclick="logout()">Logout</button>
      </div>
    </header>

    <!-- Analytics Console -->
    <div class="analytics-console">
      <div class="console-header">
        <span class="console-dot red"></span>
        <span class="console-dot yellow"></span>
        <span class="console-dot green"></span>
        <span class="console-title">Analytics Event Stream</span>
      </div>
      <div class="console-body" id="eventConsole">
        <div class="console-line info">[INIT] TechFlow Analytics Test Site loaded</div>
        <div class="console-line">[READY] Uzera tracking initialized</div>
      </div>
    </div>

    <!-- Home Page -->
    <div class="page active" id="homePage">
      <section class="hero">
        <h1>Build Better Products</h1>
        <p>The all-in-one platform for product analytics, user insights, and growth optimization.</p>
        <div class="hero-buttons">
          <button class="btn btn-primary" onclick="trackCTA('hero_start_trial'); openModal('signup')">Start Free Trial</button>
          <button class="btn btn-outline" onclick="trackCTA('hero_view_demo'); showPage('products')">View Demo</button>
        </div>
      </section>

      <section class="section">
        <div class="container">
          <div class="section-title">
            <h2>Powerful Features</h2>
            <p>Everything you need to understand your users</p>
          </div>
          <div class="card-grid">
            <div class="card" onclick="trackFeatureClick('analytics')">
              <div class="card-icon">&#128202;</div>
              <h3>Product Analytics</h3>
              <p>Track every user interaction and understand behavior patterns.</p>
            </div>
            <div class="card" onclick="trackFeatureClick('heatmaps')">
              <div class="card-icon">&#128293;</div>
              <h3>Heatmaps</h3>
              <p>Visualize where users click, scroll, and engage on your pages.</p>
            </div>
            <div class="card" onclick="trackFeatureClick('session_replay')">
              <div class="card-icon">&#127909;</div>
              <h3>Session Replay</h3>
              <p>Watch real user sessions to identify UX issues.</p>
            </div>
            <div class="card" onclick="trackFeatureClick('funnels')">
              <div class="card-icon">&#128200;</div>
              <h3>Funnels</h3>
              <p>Track conversion paths and identify drop-off points.</p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Products Page -->
    <div class="page" id="productsPage">
      <section class="section">
        <div class="container">
          <div class="section-title">
            <h2>Our Products</h2>
            <p>Choose the right tool for your needs</p>
          </div>
          <div class="product-grid">
            <div class="product-card" onclick="viewProduct('starter')">
              <div class="product-image" style="background: linear-gradient(135deg, #00d9ff, #0099ff);">&#128640;</div>
              <div class="product-info">
                <div class="product-category">Starter</div>
                <h3 class="product-title">Analytics Basic</h3>
                <p style="color: #a1a1aa; margin-bottom: 1rem;">Essential analytics for small teams</p>
                <div class="product-price">$29<span style="font-size: 0.8rem; color: #a1a1aa;">/mo</span></div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="event.stopPropagation(); addToCart('Analytics Basic', 29)">Add to Cart</button>
              </div>
            </div>
            <div class="product-card" onclick="viewProduct('pro')">
              <div class="product-image" style="background: linear-gradient(135deg, #00ff88, #00d9ff);">&#9889;</div>
              <div class="product-info">
                <div class="product-category">Professional</div>
                <h3 class="product-title">Analytics Pro</h3>
                <p style="color: #a1a1aa; margin-bottom: 1rem;">Advanced features for growing teams</p>
                <div class="product-price">$79<span style="font-size: 0.8rem; color: #a1a1aa;">/mo</span></div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="event.stopPropagation(); addToCart('Analytics Pro', 79)">Add to Cart</button>
              </div>
            </div>
            <div class="product-card" onclick="viewProduct('enterprise')">
              <div class="product-image" style="background: linear-gradient(135deg, #a855f7, #ec4899);">&#127775;</div>
              <div class="product-info">
                <div class="product-category">Enterprise</div>
                <h3 class="product-title">Analytics Enterprise</h3>
                <p style="color: #a1a1aa; margin-bottom: 1rem;">Full suite for large organizations</p>
                <div class="product-price">$199<span style="font-size: 0.8rem; color: #a1a1aa;">/mo</span></div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="event.stopPropagation(); addToCart('Analytics Enterprise', 199)">Add to Cart</button>
              </div>
            </div>
            <div class="product-card" onclick="viewProduct('heatmap')">
              <div class="product-image" style="background: linear-gradient(135deg, #f59e0b, #ef4444);">&#128293;</div>
              <div class="product-info">
                <div class="product-category">Add-on</div>
                <h3 class="product-title">Heatmap Suite</h3>
                <p style="color: #a1a1aa; margin-bottom: 1rem;">Visual analytics and click tracking</p>
                <div class="product-price">$49<span style="font-size: 0.8rem; color: #a1a1aa;">/mo</span></div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="event.stopPropagation(); addToCart('Heatmap Suite', 49)">Add to Cart</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Pricing Page -->
    <div class="page" id="pricingPage">
      <section class="section">
        <div class="container">
          <div class="section-title">
            <h2>Simple Pricing</h2>
            <p>No hidden fees. Cancel anytime.</p>
          </div>
          <div class="grid-3">
            <div class="card" onclick="selectPlan('starter')">
              <h3>Starter</h3>
              <div class="card-price">$29<span>/month</span></div>
              <p style="margin: 1rem 0;">Perfect for small projects</p>
              <ul style="color: #a1a1aa; margin-bottom: 1.5rem;">
                <li>10,000 events/mo</li>
                <li>3 team members</li>
                <li>Basic analytics</li>
              </ul>
              <button class="btn btn-outline" style="width: 100%;">Choose Plan</button>
            </div>
            <div class="card" style="border-color: #00d9ff;" onclick="selectPlan('pro')">
              <div style="background: linear-gradient(90deg, #00d9ff, #00ff88); color: #0f0f23; padding: 0.25rem 0.75rem; border-radius: 20px; display: inline-block; font-size: 0.8rem; margin-bottom: 1rem;">Most Popular</div>
              <h3>Professional</h3>
              <div class="card-price">$79<span>/month</span></div>
              <p style="margin: 1rem 0;">For growing businesses</p>
              <ul style="color: #a1a1aa; margin-bottom: 1.5rem;">
                <li>100,000 events/mo</li>
                <li>10 team members</li>
                <li>Advanced analytics</li>
                <li>Heatmaps included</li>
              </ul>
              <button class="btn btn-primary" style="width: 100%;">Choose Plan</button>
            </div>
            <div class="card" onclick="selectPlan('enterprise')">
              <h3>Enterprise</h3>
              <div class="card-price">$199<span>/month</span></div>
              <p style="margin: 1rem 0;">For large organizations</p>
              <ul style="color: #a1a1aa; margin-bottom: 1.5rem;">
                <li>Unlimited events</li>
                <li>Unlimited team</li>
                <li>Full feature access</li>
                <li>Dedicated support</li>
              </ul>
              <button class="btn btn-outline" style="width: 100%;">Contact Sales</button>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Analytics Testing Page -->
    <div class="page" id="analyticsPage">
      <section class="section">
        <div class="container">
          <div class="section-title">
            <h2>Analytics Testing Dashboard</h2>
            <p>Test all tracking features from one place</p>
          </div>

          <!-- 1. Product Analytics -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128202; Product Analytics</h3>
              <span class="panel-badge">Core Feature</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Track User Actions</h4>
                  <div class="segment-group">
                    <button class="segment-btn" onclick="trackProductEvent('button_click')">Button Click</button>
                    <button class="segment-btn" onclick="trackProductEvent('page_view')">Page View</button>
                    <button class="segment-btn" onclick="trackProductEvent('feature_used')">Feature Used</button>
                    <button class="segment-btn" onclick="trackProductEvent('search')">Search</button>
                    <button class="segment-btn" onclick="trackProductEvent('filter')">Filter Applied</button>
                  </div>
                  <div class="form-group">
                    <label>Custom Event Name</label>
                    <input type="text" class="form-input" id="customEventName" placeholder="e.g., video_played">
                  </div>
                  <div class="form-group">
                    <label>Event Properties (JSON)</label>
                    <input type="text" class="form-input" id="customEventProps" placeholder='{"key": "value"}'>
                  </div>
                  <button class="btn btn-primary" onclick="trackCustomProductEvent()">Track Custom Event</button>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Metrics</h4>
                  <div class="grid-2">
                    <div class="metric-box">
                      <div class="metric-value" id="eventCount">0</div>
                      <div class="metric-label">Events Tracked</div>
                    </div>
                    <div class="metric-box">
                      <div class="metric-value" id="sessionDuration">0s</div>
                      <div class="metric-label">Session Time</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 2. Traffic Analytics -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128506; Traffic Analytics</h3>
              <span class="panel-badge">Attribution</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Simulate Traffic Source</h4>
                  <div class="traffic-item" onclick="trackTraffic('organic', 'google')">
                    <span class="traffic-icon">&#128269;</span>
                    <div class="traffic-info">
                      <div class="traffic-name">Organic Search</div>
                      <div class="traffic-detail">Google</div>
                    </div>
                  </div>
                  <div class="traffic-item" onclick="trackTraffic('paid', 'google_ads')">
                    <span class="traffic-icon">&#128176;</span>
                    <div class="traffic-info">
                      <div class="traffic-name">Paid Search</div>
                      <div class="traffic-detail">Google Ads</div>
                    </div>
                  </div>
                  <div class="traffic-item" onclick="trackTraffic('social', 'linkedin')">
                    <span class="traffic-icon">&#128101;</span>
                    <div class="traffic-info">
                      <div class="traffic-name">Social Media</div>
                      <div class="traffic-detail">LinkedIn</div>
                    </div>
                  </div>
                  <div class="traffic-item" onclick="trackTraffic('referral', 'partner')">
                    <span class="traffic-icon">&#128279;</span>
                    <div class="traffic-info">
                      <div class="traffic-name">Referral</div>
                      <div class="traffic-detail">Partner Website</div>
                    </div>
                  </div>
                  <div class="traffic-item" onclick="trackTraffic('email', 'newsletter')">
                    <span class="traffic-icon">&#128231;</span>
                    <div class="traffic-info">
                      <div class="traffic-name">Email</div>
                      <div class="traffic-detail">Newsletter Campaign</div>
                    </div>
                  </div>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">UTM Parameters</h4>
                  <div class="form-group">
                    <label>utm_source</label>
                    <input type="text" class="form-input" id="utmSource" placeholder="google">
                  </div>
                  <div class="form-group">
                    <label>utm_medium</label>
                    <input type="text" class="form-input" id="utmMedium" placeholder="cpc">
                  </div>
                  <div class="form-group">
                    <label>utm_campaign</label>
                    <input type="text" class="form-input" id="utmCampaign" placeholder="spring_sale">
                  </div>
                  <button class="btn btn-primary" onclick="trackUTM()">Track Campaign</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 3. Engineering Analytics -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#9881; Engineering Analytics</h3>
              <span class="panel-badge">Performance</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Performance Metrics</h4>
                  <div class="grid-2">
                    <div class="metric-box">
                      <div class="metric-value" id="pageLoad">--</div>
                      <div class="metric-label">Page Load (ms)</div>
                    </div>
                    <div class="metric-box">
                      <div class="metric-value" id="domReady">--</div>
                      <div class="metric-label">DOM Ready (ms)</div>
                    </div>
                    <div class="metric-box">
                      <div class="metric-value" id="fcp">--</div>
                      <div class="metric-label">First Paint (ms)</div>
                    </div>
                    <div class="metric-box">
                      <div class="metric-value" id="memUsage">--</div>
                      <div class="metric-label">Memory (MB)</div>
                    </div>
                  </div>
                  <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="measurePerformance()">Measure Performance</button>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Error Simulation</h4>
                  <div class="segment-group">
                    <button class="segment-btn" onclick="simulateError('js_error')">JS Error</button>
                    <button class="segment-btn" onclick="simulateError('network_error')">Network Error</button>
                    <button class="segment-btn" onclick="simulateError('api_error')">API Error</button>
                    <button class="segment-btn" onclick="simulateError('timeout')">Timeout</button>
                    <button class="segment-btn" onclick="simulateError('unhandled')">Unhandled Rejection</button>
                  </div>
                  <div class="form-group" style="margin-top: 1rem;">
                    <label>Custom Error Message</label>
                    <input type="text" class="form-input" id="customError" placeholder="Custom error message">
                  </div>
                  <button class="btn btn-primary" onclick="trackCustomError()">Track Error</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 4. Heatmap -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128293; Heatmap Testing</h3>
              <span class="panel-badge">Visual</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Click Heatmap Zone</h4>
                  <div class="heatmap-zone" id="heatmapZone">
                    <!-- Generated by JS -->
                  </div>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Interaction Zones</h4>
                  <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <div class="card" style="padding: 1.5rem; text-align: center;" onclick="trackZone('header_cta')">
                      Header CTA Zone
                    </div>
                    <div style="display: flex; gap: 0.5rem;">
                      <div class="card" style="flex: 1; padding: 1rem; text-align: center;" onclick="trackZone('sidebar_left')">Left Sidebar</div>
                      <div class="card" style="flex: 2; padding: 1rem; text-align: center;" onclick="trackZone('main_content')">Main Content</div>
                      <div class="card" style="flex: 1; padding: 1rem; text-align: center;" onclick="trackZone('sidebar_right')">Right Sidebar</div>
                    </div>
                    <div class="card" style="padding: 1rem; text-align: center;" onclick="trackZone('footer_cta')">
                      Footer CTA Zone
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 5. Form Analytics -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128221; Form Analytics</h3>
              <span class="panel-badge">Conversion</span>
            </div>
            <div class="panel-body">
              <div class="tabs">
                <button class="tab active" onclick="switchFormTab('lead')">Lead Form</button>
                <button class="tab" onclick="switchFormTab('checkout')">Checkout Form</button>
                <button class="tab" onclick="switchFormTab('survey')">Survey Form</button>
              </div>

              <div class="tab-content active" id="leadFormTab">
                <form id="leadForm" onsubmit="submitFormAnalytics(event, 'lead')">
                  <div class="grid-2">
                    <div class="form-group">
                      <label>Full Name</label>
                      <input type="text" class="form-input" name="fullName" placeholder="John Doe" onfocus="trackField('lead', 'fullName', 'focus')" onblur="trackField('lead', 'fullName', 'blur')">
                    </div>
                    <div class="form-group">
                      <label>Email Address</label>
                      <input type="email" class="form-input" name="email" placeholder="john@company.com" onfocus="trackField('lead', 'email', 'focus')" onblur="trackField('lead', 'email', 'blur')">
                    </div>
                    <div class="form-group">
                      <label>Company</label>
                      <input type="text" class="form-input" name="company" placeholder="Acme Inc" onfocus="trackField('lead', 'company', 'focus')" onblur="trackField('lead', 'company', 'blur')">
                    </div>
                    <div class="form-group">
                      <label>Role</label>
                      <select class="form-input" name="role" onfocus="trackField('lead', 'role', 'focus')" onchange="trackField('lead', 'role', 'change', this.value)">
                        <option value="">Select role</option>
                        <option value="developer">Developer</option>
                        <option value="product">Product Manager</option>
                        <option value="marketing">Marketing</option>
                        <option value="executive">Executive</option>
                      </select>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary">Submit Lead</button>
                </form>
              </div>

              <div class="tab-content" id="checkoutFormTab">
                <form id="checkoutForm" onsubmit="submitFormAnalytics(event, 'checkout')">
                  <div class="grid-2">
                    <div class="form-group">
                      <label>Cardholder Name</label>
                      <input type="text" class="form-input" name="cardName" placeholder="John Doe" onfocus="trackField('checkout', 'cardName', 'focus')" onblur="trackField('checkout', 'cardName', 'blur')">
                    </div>
                    <div class="form-group">
                      <label>Card Number</label>
                      <input type="text" class="form-input" name="cardNumber" placeholder="4242 4242 4242 4242" onfocus="trackField('checkout', 'cardNumber', 'focus')" onblur="trackField('checkout', 'cardNumber', 'blur')">
                    </div>
                    <div class="form-group">
                      <label>Expiry Date</label>
                      <input type="text" class="form-input" name="expiry" placeholder="MM/YY" onfocus="trackField('checkout', 'expiry', 'focus')" onblur="trackField('checkout', 'expiry', 'blur')">
                    </div>
                    <div class="form-group">
                      <label>CVV</label>
                      <input type="text" class="form-input" name="cvv" placeholder="123" onfocus="trackField('checkout', 'cvv', 'focus')" onblur="trackField('checkout', 'cvv', 'blur')">
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary">Complete Purchase</button>
                </form>
              </div>

              <div class="tab-content" id="surveyFormTab">
                <form id="surveyForm" onsubmit="submitFormAnalytics(event, 'survey')">
                  <div class="form-group">
                    <label>How satisfied are you?</label>
                    <select class="form-input" name="satisfaction" onfocus="trackField('survey', 'satisfaction', 'focus')" onchange="trackField('survey', 'satisfaction', 'change', this.value)">
                      <option value="">Select rating</option>
                      <option value="5">Very Satisfied</option>
                      <option value="4">Satisfied</option>
                      <option value="3">Neutral</option>
                      <option value="2">Dissatisfied</option>
                      <option value="1">Very Dissatisfied</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>What could we improve?</label>
                    <textarea class="form-input" name="feedback" rows="3" placeholder="Your feedback..." onfocus="trackField('survey', 'feedback', 'focus')" onblur="trackField('survey', 'feedback', 'blur')"></textarea>
                  </div>
                  <button type="submit" class="btn btn-primary">Submit Survey</button>
                </form>
              </div>
            </div>
          </div>

          <!-- 6. User Journey -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128694; User Journey</h3>
              <span class="panel-badge">Identified & Anonymous</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Anonymous Journey</h4>
                  <div class="journey-timeline" id="anonJourney">
                    <div class="journey-step" onclick="trackJourneyStep('anon', 1, this)">
                      <strong>Page Visit</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">First touchpoint</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('anon', 2, this)">
                      <strong>Browse Products</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">Exploring options</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('anon', 3, this)">
                      <strong>View Pricing</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">Comparing plans</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('anon', 4, this)">
                      <strong>Start Signup</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">Ready to convert</div>
                    </div>
                  </div>
                  <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="resetJourney('anon')">Reset Journey</button>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Identified Journey</h4>
                  <div class="form-group">
                    <label>Identify User First</label>
                    <input type="text" class="form-input" id="journeyUserId" placeholder="user@company.com">
                    <button class="btn btn-outline" style="margin-top: 0.5rem;" onclick="identifyForJourney()">Identify User</button>
                  </div>
                  <div class="journey-timeline" id="identifiedJourney">
                    <div class="journey-step" onclick="trackJourneyStep('identified', 1, this)">
                      <strong>Dashboard Visit</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">User logged in</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('identified', 2, this)">
                      <strong>Feature Discovery</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">Exploring features</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('identified', 3, this)">
                      <strong>Create Report</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">First value action</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('identified', 4, this)">
                      <strong>Invite Team</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">Expansion signal</div>
                    </div>
                    <div class="journey-step" onclick="trackJourneyStep('identified', 5, this)">
                      <strong>Upgrade Plan</strong>
                      <div style="color: #a1a1aa; font-size: 0.9rem;">Conversion complete</div>
                    </div>
                  </div>
                  <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="resetJourney('identified')">Reset Journey</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 7. Segmentation -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128101; Segmentation</h3>
              <span class="panel-badge">Users & Orgs</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">User Segments</h4>
                  <div class="segment-group">
                    <button class="segment-btn" onclick="setUserSegment('free_tier')">Free Tier</button>
                    <button class="segment-btn" onclick="setUserSegment('trial')">Trial User</button>
                    <button class="segment-btn" onclick="setUserSegment('paid')">Paid User</button>
                    <button class="segment-btn" onclick="setUserSegment('power_user')">Power User</button>
                    <button class="segment-btn" onclick="setUserSegment('churned')">Churned</button>
                  </div>
                  <div class="form-group" style="margin-top: 1rem;">
                    <label>User Properties</label>
                    <div class="grid-2">
                      <input type="text" class="form-input" id="userPropKey" placeholder="Property key">
                      <input type="text" class="form-input" id="userPropVal" placeholder="Property value">
                    </div>
                    <button class="btn btn-outline" style="margin-top: 0.5rem;" onclick="setUserProperty()">Set Property</button>
                  </div>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Organization Segments</h4>
                  <div class="segment-group">
                    <button class="segment-btn" onclick="setOrgSegment('startup')">Startup</button>
                    <button class="segment-btn" onclick="setOrgSegment('smb')">SMB</button>
                    <button class="segment-btn" onclick="setOrgSegment('mid_market')">Mid-Market</button>
                    <button class="segment-btn" onclick="setOrgSegment('enterprise')">Enterprise</button>
                  </div>
                  <div class="form-group" style="margin-top: 1rem;">
                    <label>Organization ID</label>
                    <input type="text" class="form-input" id="orgId" placeholder="org_12345">
                  </div>
                  <div class="form-group">
                    <label>Organization Name</label>
                    <input type="text" class="form-input" id="orgName" placeholder="Acme Corporation">
                  </div>
                  <button class="btn btn-primary" onclick="identifyOrganization()">Identify Organization</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 8. Session Replay -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#127909; Session Replay</h3>
              <span class="panel-badge">Recording</span>
            </div>
            <div class="panel-body">
              <div class="grid-2">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Mouse Tracking Zone</h4>
                  <div id="mouseTrackZone" style="background: #16213e; height: 200px; border-radius: 8px; position: relative; cursor: crosshair;" onmousemove="trackMouse(event)" onclick="trackMouseClick(event)">
                    <div id="mousePos" style="position: absolute; bottom: 10px; right: 10px; color: #a1a1aa; font-size: 0.85rem;">X: 0, Y: 0</div>
                    <div id="clickMarker" style="position: absolute; width: 20px; height: 20px; border-radius: 50%; background: rgba(0, 217, 255, 0.5); transform: translate(-50%, -50%); display: none;"></div>
                  </div>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Input Tracking</h4>
                  <div class="form-group">
                    <label>Text Input (keystrokes tracked)</label>
                    <input type="text" class="form-input" id="keystrokeInput" placeholder="Type here..." oninput="trackKeystrokes(event)">
                    <div style="color: #a1a1aa; font-size: 0.85rem; margin-top: 0.5rem;">Keystrokes: <span id="keystrokeCount">0</span></div>
                  </div>
                  <h4 style="color: #fff; margin: 1rem 0;">Scroll Tracking</h4>
                  <div id="scrollTrackZone" style="background: #16213e; height: 150px; border-radius: 8px; overflow-y: auto;" onscroll="trackScroll(event)">
                    <div style="height: 500px; padding: 1rem; background: linear-gradient(180deg, #00d9ff 0%, #00ff88 50%, #a855f7 100%); border-radius: 8px;">
                      <div style="color: #0f0f23; font-weight: bold;">Scroll down to track</div>
                    </div>
                  </div>
                  <div style="color: #a1a1aa; font-size: 0.85rem; margin-top: 0.5rem;">Scroll Depth: <span id="scrollDepth">0%</span></div>
                </div>
              </div>
            </div>
          </div>

          <!-- 9. Funnel -->
          <div class="test-panel">
            <div class="panel-header">
              <h3>&#128200; Funnel Analytics</h3>
              <span class="panel-badge">Conversion</span>
            </div>
            <div class="panel-body">
              <div class="grid-3">
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Signup Funnel</h4>
                  <div class="funnel-container" id="signupFunnel">
                    <div class="funnel-step" onclick="advanceFunnel('signup', 1, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">1</span>
                        <span>Visit Landing</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('signup', 2, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">2</span>
                        <span>Click Signup</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('signup', 3, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">3</span>
                        <span>Enter Details</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('signup', 4, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">4</span>
                        <span>Verify Email</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('signup', 5, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">5</span>
                        <span>Complete Setup</span>
                      </div>
                    </div>
                  </div>
                  <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="resetFunnel('signup')">Reset</button>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Purchase Funnel</h4>
                  <div class="funnel-container" id="purchaseFunnel">
                    <div class="funnel-step" onclick="advanceFunnel('purchase', 1, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">1</span>
                        <span>View Product</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('purchase', 2, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">2</span>
                        <span>Add to Cart</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('purchase', 3, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">3</span>
                        <span>Start Checkout</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('purchase', 4, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">4</span>
                        <span>Enter Payment</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('purchase', 5, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">5</span>
                        <span>Purchase</span>
                      </div>
                    </div>
                  </div>
                  <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="resetFunnel('purchase')">Reset</button>
                </div>
                <div>
                  <h4 style="color: #fff; margin-bottom: 1rem;">Onboarding Funnel</h4>
                  <div class="funnel-container" id="onboardingFunnel">
                    <div class="funnel-step" onclick="advanceFunnel('onboarding', 1, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">1</span>
                        <span>Welcome Screen</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('onboarding', 2, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">2</span>
                        <span>Set Profile</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('onboarding', 3, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">3</span>
                        <span>Connect Data</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('onboarding', 4, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">4</span>
                        <span>First Report</span>
                      </div>
                    </div>
                    <div class="funnel-step" onclick="advanceFunnel('onboarding', 5, this)">
                      <div style="display: flex; align-items: center;">
                        <span class="step-num">5</span>
                        <span>Invite Team</span>
                      </div>
                    </div>
                  </div>
                  <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;" onclick="resetFunnel('onboarding')">Reset</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>
    </div>

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
      <div class="modal">
        <div class="modal-header">
          <h3 id="modalTitle">Login</h3>
          <button class="modal-close" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
          <div id="loginForm">
            <div class="form-group">
              <label>Email</label>
              <input type="email" class="form-input" id="loginEmail" placeholder="you@company.com" onfocus="trackField('auth', 'email', 'focus')" onblur="trackField('auth', 'email', 'blur')">
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" class="form-input" id="loginPassword" placeholder="Enter password" onfocus="trackField('auth', 'password', 'focus')" onblur="trackField('auth', 'password', 'blur')">
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="handleLogin()">Login</button>
            <p style="text-align: center; margin-top: 1rem; color: #a1a1aa;">
              Don't have an account? <a style="color: #00d9ff; cursor: pointer;" onclick="switchAuthMode('signup')">Sign up</a>
            </p>
          </div>
          <div id="signupForm" style="display: none;">
            <div class="form-group">
              <label>Full Name</label>
              <input type="text" class="form-input" id="signupName" placeholder="John Doe" onfocus="trackField('auth', 'name', 'focus')" onblur="trackField('auth', 'name', 'blur')">
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" class="form-input" id="signupEmail" placeholder="you@company.com" onfocus="trackField('auth', 'email', 'focus')" onblur="trackField('auth', 'email', 'blur')">
            </div>
            <div class="form-group">
              <label>Company</label>
              <input type="text" class="form-input" id="signupCompany" placeholder="Acme Inc" onfocus="trackField('auth', 'company', 'focus')" onblur="trackField('auth', 'company', 'blur')">
            </div>
            <div class="form-group">
              <label>Password</label>
              <input type="password" class="form-input" id="signupPassword" placeholder="Create password" onfocus="trackField('auth', 'password', 'focus')" onblur="trackField('auth', 'password', 'blur')">
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="handleSignup()">Create Account</button>
            <p style="text-align: center; margin-top: 1rem; color: #a1a1aa;">
              Already have an account? <a style="color: #00d9ff; cursor: pointer;" onclick="switchAuthMode('login')">Login</a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-grid">
        <div>
          <h4>TechFlow</h4>
          <p style="color: #a1a1aa;">Analytics Test Site 2</p>
        </div>
        <div>
          <h4>Product</h4>
          <ul>
            <li><a onclick="showPage('products')">Products</a></li>
            <li><a onclick="showPage('pricing')">Pricing</a></li>
            <li><a onclick="showPage('analytics')">Testing</a></li>
          </ul>
        </div>
        <div>
          <h4>Resources</h4>
          <ul>
            <li><a href="#">Documentation</a></li>
            <li><a href="#">API Reference</a></li>
            <li><a href="#">Support</a></li>
          </ul>
        </div>
        <div>
          <h4>Company</h4>
          <ul>
            <li><a href="#">About</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Careers</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 TechFlow. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // State
      let isLoggedIn = false;
      let currentUser = null;
      let eventCount = 0;
      let sessionStart = Date.now();
      let keystrokeCount = 0;
      const funnelStates = { signup: 0, purchase: 0, onboarding: 0 };
      const journeyStates = { anon: 0, identified: 0 };

      // Console logging
      function logEvent(message, type = '') {
        const console = document.getElementById('eventConsole');
        const timestamp = new Date().toLocaleTimeString();
        const line = document.createElement('div');
        line.className = `console-line ${type}`;
        line.textContent = `[${timestamp}] ${message}`;
        console.appendChild(line);
        console.scrollTop = console.scrollHeight;

        eventCount++;
        document.getElementById('eventCount').textContent = eventCount;
      }

      // Track with Uzera
      function track(eventName, properties = {}) {
        logEvent(`EVENT: ${eventName} ${JSON.stringify(properties)}`, 'info');
        if (window.uzera && window.uzera.trackEvent) {
          window.uzera.trackEvent(eventName, properties);
        }
      }

      function identify(userId, traits = {}) {
        logEvent(`IDENTIFY: ${userId}`, 'info');
        if (window.uzera && window.uzera.identify) {
          window.uzera.identify(userId, traits);
        }
      }

      // Session duration update
      setInterval(() => {
        const duration = Math.floor((Date.now() - sessionStart) / 1000);
        document.getElementById('sessionDuration').textContent = `${duration}s`;
      }, 1000);

      // Page Navigation
      function showPage(page) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(page + 'Page').classList.add('active');
        document.querySelectorAll('.nav a').forEach(a => a.classList.remove('active'));
        event.target.classList.add('active');
        track('page_view', { page: page });
      }

      // Auth
      function openModal(type) {
        document.getElementById('authModal').classList.add('active');
        switchAuthMode(type);
        track('modal_opened', { modal: type });
      }

      function closeModal() {
        document.getElementById('authModal').classList.remove('active');
      }

      function switchAuthMode(mode) {
        document.getElementById('modalTitle').textContent = mode === 'login' ? 'Login' : 'Create Account';
        document.getElementById('loginForm').style.display = mode === 'login' ? 'block' : 'none';
        document.getElementById('signupForm').style.display = mode === 'signup' ? 'block' : 'none';
      }

      function handleLogin() {
        const email = document.getElementById('loginEmail').value;
        if (email) {
          currentUser = email.split('@')[0];
          isLoggedIn = true;
          identify(email, { name: currentUser });
          track('user_login', { method: 'email' });
          updateAuthUI();
          closeModal();
        }
      }

      function handleSignup() {
        const name = document.getElementById('signupName').value;
        const email = document.getElementById('signupEmail').value;
        const company = document.getElementById('signupCompany').value;

        if (email && name) {
          currentUser = name;
          isLoggedIn = true;
          identify(email, { name: name, company: company });
          track('user_signup', { method: 'email', company: company });
          updateAuthUI();
          closeModal();
        } else {
          logEvent('ERROR: Signup failed - Network Error', 'error');
          alert('Network Error: Unable to connect to server. Please try again.');
        }
      }

      function logout() {
        isLoggedIn = false;
        currentUser = null;
        track('user_logout');
        updateAuthUI();
      }

      function updateAuthUI() {
        document.getElementById('authButtons').style.display = isLoggedIn ? 'none' : 'flex';
        document.getElementById('userMenu').style.display = isLoggedIn ? 'flex' : 'none';
        if (isLoggedIn) {
          document.getElementById('userGreeting').textContent = `Welcome, ${currentUser}`;
        }
      }

      // Product Analytics
      function trackProductEvent(eventName) {
        track(`product_${eventName}`, { timestamp: Date.now() });
      }

      function trackCustomProductEvent() {
        const name = document.getElementById('customEventName').value;
        let props = {};
        try {
          const propsStr = document.getElementById('customEventProps').value;
          if (propsStr) props = JSON.parse(propsStr);
        } catch (e) {
          logEvent('Invalid JSON in properties', 'warn');
        }
        if (name) track(name, props);
      }

      function trackCTA(ctaName) {
        track('cta_click', { cta: ctaName });
      }

      function trackFeatureClick(feature) {
        track('feature_click', { feature: feature });
      }

      function viewProduct(product) {
        track('product_viewed', { product: product });
      }

      function addToCart(product, price) {
        track('add_to_cart', { product: product, price: price });
        logEvent(`Added ${product} to cart ($${price})`, 'info');
      }

      function selectPlan(plan) {
        track('plan_selected', { plan: plan });
      }

      // Traffic Analytics
      function trackTraffic(type, source) {
        track('traffic_source', { type: type, source: source });
      }

      function trackUTM() {
        const utm = {
          source: document.getElementById('utmSource').value,
          medium: document.getElementById('utmMedium').value,
          campaign: document.getElementById('utmCampaign').value
        };
        track('utm_campaign', utm);
      }

      // Engineering Analytics
      function measurePerformance() {
        const perf = performance.getEntriesByType('navigation')[0];
        if (perf) {
          document.getElementById('pageLoad').textContent = Math.round(perf.loadEventEnd - perf.startTime);
          document.getElementById('domReady').textContent = Math.round(perf.domContentLoadedEventEnd - perf.startTime);
        }
        const paint = performance.getEntriesByType('paint').find(e => e.name === 'first-contentful-paint');
        if (paint) {
          document.getElementById('fcp').textContent = Math.round(paint.startTime);
        }
        if (performance.memory) {
          document.getElementById('memUsage').textContent = Math.round(performance.memory.usedJSHeapSize / 1048576);
        }
        track('performance_measured', {
          pageLoad: document.getElementById('pageLoad').textContent,
          domReady: document.getElementById('domReady').textContent
        });
      }

      function simulateError(errorType) {
        const errorMessages = {
          js_error: 'Uncaught TypeError: Cannot read property of undefined',
          network_error: 'NetworkError: Failed to fetch resource',
          api_error: 'API Error: 500 Internal Server Error',
          timeout: 'TimeoutError: Request timed out after 30000ms',
          unhandled: 'Unhandled Promise Rejection: Operation failed'
        };
        logEvent(`ERROR: ${errorMessages[errorType]}`, 'error');
        track('error_occurred', { type: errorType, message: errorMessages[errorType] });
      }

      function trackCustomError() {
        const msg = document.getElementById('customError').value;
        if (msg) {
          logEvent(`ERROR: ${msg}`, 'error');
          track('custom_error', { message: msg });
        }
      }

      // Heatmap
      function initHeatmap() {
        const zone = document.getElementById('heatmapZone');
        for (let i = 1; i <= 25; i++) {
          const cell = document.createElement('div');
          cell.className = 'heat-cell';
          cell.textContent = i;
          cell.dataset.clicks = 0;
          cell.onclick = () => {
            const clicks = parseInt(cell.dataset.clicks) + 1;
            cell.dataset.clicks = clicks;
            const intensity = Math.min(clicks * 0.15, 1);
            cell.style.background = `rgba(0, 217, 255, ${intensity})`;
            cell.style.color = clicks > 3 ? '#0f0f23' : '#a1a1aa';
            track('heatmap_click', { cell: i, clicks: clicks });
          };
          zone.appendChild(cell);
        }
      }

      function trackZone(zone) {
        track('zone_click', { zone: zone });
      }

      // Form Analytics
      function switchFormTab(tab) {
        document.querySelectorAll('.tabs .tab').forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        document.getElementById(tab + 'FormTab').classList.add('active');
        track('form_tab_switch', { tab: tab });
      }

      function trackField(form, field, action, value = null) {
        const data = { form: form, field: field, action: action };
        if (value) data.value = value;
        track(`form_field_${action}`, data);
      }

      function submitFormAnalytics(event, formType) {
        event.preventDefault();
        track('form_submitted', { form: formType });
        logEvent(`Form submitted: ${formType}`, 'info');
        alert(`${formType} form submitted successfully!`);
      }

      // User Journey
      function trackJourneyStep(type, step, element) {
        if (step === journeyStates[type] + 1) {
          journeyStates[type] = step;
          element.classList.add('completed');
          track(`journey_${type}_step`, { step: step });
        }
      }

      function resetJourney(type) {
        journeyStates[type] = 0;
        document.querySelectorAll(`#${type}Journey .journey-step`).forEach(s => {
          s.classList.remove('completed', 'active');
        });
        track('journey_reset', { type: type });
      }

      function identifyForJourney() {
        const userId = document.getElementById('journeyUserId').value;
        if (userId) {
          identify(userId, { journey_type: 'identified' });
        }
      }

      // Segmentation
      function setUserSegment(segment) {
        track('user_segment_set', { segment: segment });
        document.querySelectorAll('.segment-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
      }

      function setUserProperty() {
        const key = document.getElementById('userPropKey').value;
        const val = document.getElementById('userPropVal').value;
        if (key && val) {
          track('user_property_set', { key: key, value: val });
        }
      }

      function setOrgSegment(segment) {
        track('org_segment_set', { segment: segment });
      }

      function identifyOrganization() {
        const orgId = document.getElementById('orgId').value;
        const orgName = document.getElementById('orgName').value;
        if (orgId) {
          track('organization_identified', { org_id: orgId, org_name: orgName });
        }
      }

      // Session Replay
      function trackMouse(event) {
        const rect = event.target.getBoundingClientRect();
        const x = Math.round(event.clientX - rect.left);
        const y = Math.round(event.clientY - rect.top);
        document.getElementById('mousePos').textContent = `X: ${x}, Y: ${y}`;
      }

      function trackMouseClick(event) {
        const rect = event.target.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;

        const marker = document.getElementById('clickMarker');
        marker.style.left = x + 'px';
        marker.style.top = y + 'px';
        marker.style.display = 'block';
        setTimeout(() => marker.style.display = 'none', 500);

        track('mouse_click', { x: Math.round(x), y: Math.round(y) });
      }

      function trackKeystrokes(event) {
        keystrokeCount++;
        document.getElementById('keystrokeCount').textContent = keystrokeCount;
        if (keystrokeCount % 10 === 0) {
          track('keystrokes', { count: keystrokeCount });
        }
      }

      function trackScroll(event) {
        const el = event.target;
        const depth = Math.round((el.scrollTop / (el.scrollHeight - el.clientHeight)) * 100);
        document.getElementById('scrollDepth').textContent = depth + '%';
        if (depth % 25 === 0) {
          track('scroll_depth', { depth: depth });
        }
      }

      // Funnel
      function advanceFunnel(funnel, step, element) {
        if (step === funnelStates[funnel] + 1) {
          funnelStates[funnel] = step;
          element.classList.add('completed');
          track(`funnel_${funnel}_step`, { step: step });
        }
      }

      function resetFunnel(funnel) {
        funnelStates[funnel] = 0;
        document.querySelectorAll(`#${funnel}Funnel .funnel-step`).forEach(s => {
          s.classList.remove('completed');
        });
        track('funnel_reset', { funnel: funnel });
      }

      // Init
      document.addEventListener('DOMContentLoaded', () => {
        initHeatmap();
        track('page_load', { page: 'test_site_2' });
      });

      // Close modal on outside click
      document.getElementById('authModal').addEventListener('click', function(e) {
        if (e.target === this) closeModal();
      });
    </script>
  </body>
</html>
